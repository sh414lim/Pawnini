_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[118],{"9eAI":function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return s}));var n=a("nKUr"),r=(a("q1tI"),a("pSvK")),o=a("BhIQ"),i=a("iuhU"),c="".concat(o.a,"/profile-empty.svg"),s=function(e){var t=e.className;return Object(n.jsx)(r.a,{className:Object(i.a)(t),src:c,alt:""})};s.defaultProps={className:null}},B1va:function(e,t,a){"use strict";var n=a("nKUr"),r=(a("q1tI"),a("iuhU")),o=a("R/WZ"),i=Object(o.a)((function(e){return{divider:{display:"inline-block",background:e.palette.grey[600],width:1,height:10}}})),c=function(e){var t=e.className,a=i();return Object(n.jsx)("div",{className:Object(r.a)(a.divider,t)})};c.defaultProps={className:void 0},t.a=c},BhIQ:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o}));var n=a("kkIH"),r=n.a?"/images/catpre":"/images/dogpre",o=(n.a,n.a?"https://static.catpre.com/images/catpre":"https://static.dogpre.com/images/dogpre")},Ho0e:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/product/[productId]/qna/[qnaId]",function(){return a("REHP")}])},LY0y:function(e,t){(function(t){e.exports=function(){var e={880:function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}},a={};function n(t){if(a[t])return a[t].exports;var r=a[t]={exports:{}},o=!0;try{e[t](r,r.exports,n),o=!1}finally{o&&delete a[t]}return r.exports}return n.ab=t+"/",n(880)}()}).call(this,"/")},REHP:function(e,t,a){"use strict";a.r(t);var n=a("vJKn"),r=a.n(n),o=a("rg98"),i=a("nKUr"),c=a("xvhg"),s=a("cpVT"),d=a("q1tI"),l=a("20a2"),p=a("xJDH"),u=a("8z/w"),b=a("ToJ3"),m=a("ESKf"),j=a("7QDV"),g=a("EktZ"),h=a("SNKu"),f=a("R/WZ"),O=a("zGqZ"),x=a("91cP"),y=a("AJEb"),v=a("dhJC"),k=a("Uu5j"),w=a("pSvK"),I=a("i6OX"),N=a("9eAI"),C=a("iuhU"),R=a("B1va"),S=a("sc4p"),B=a("QhPF"),q=a("7rjX"),P=a("wnGR");function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var W=Object(f.a)((function(e){return{root:Object(s.a)({boxSizing:"border-box",width:"100%",padding:16,position:"relative",borderBottom:"1px solid ".concat(e.palette.grey[900])},e.breakpoints.up("lg"),{padding:"16px 26px 22px",borderBottom:"1px solid ".concat(e.palette.grey.A100)}),qnaHeader:Object(s.a)({width:"100%",height:"56px",display:"flex",fontSize:"1.4rem",flexBasis:"100%",alignItems:"center",flexShrink:0,marginBottom:"2px",justifyContent:"flex-start"},e.breakpoints.down("md"),{height:"auto",marginBottom:16}),questionTxt:Object(s.a)({},e.breakpoints.up("lg"),{fontSize:"1.6rem",fontWeight:e.typography.fontWeightMedium}),myQuestion:Object(s.a)({marginBottom:36,padding:"14px 0"},e.breakpoints.up("lg"),{marginBottom:16,padding:"0 126px 0 0"}),userThumb:Object(s.a)({display:"block",width:24,height:24,marginRight:6,overflow:"hidden",position:"relative",border:"1px solid ".concat(e.palette.grey[600]),borderRadius:"50%"},e.breakpoints.up("lg"),{width:48,height:48,marginRight:9}),userThumbImg:{width:"100%",height:"100%",objectFit:"cover",position:"absolute",left:0,right:0,top:0,bottom:0},divider:{marginLeft:9,marginRight:9},header:Object(s.a)({color:e.palette.text.secondary,fontSize:"1.4rem",flex:1},e.breakpoints.down("md"),{display:"flex","& > div":{flex:1}}),userName:Object(s.a)({color:e.palette.text.primary,fontWeight:e.typography.fontWeightMedium},e.breakpoints.down("md"),{flex:1}),petType:{paddingLeft:4},qnaContainer:Object(s.a)({wordBreak:"break-all"},e.breakpoints.down("md"),{padding:"14px 0"}),likeBtnWrapper:Object(s.a)({display:"flex",alignItems:"center"},e.breakpoints.down("md"),{margin:"19px 0"}),likeBtn:Object(s.a)({position:"absolute",right:16,bottom:16},e.breakpoints.up("lg"),{marginBottom:16,top:10}),removeBtn:Object(s.a)({position:"absolute",bottom:16,minWidth:0,height:26},e.breakpoints.up("lg"),{right:16,top:66,minWidth:76,height:30}),reply:{"& path":{fill:e.palette.grey[600]}}}})),L=function(e){var t=e.isReply,a=e.myQuestion,n=e.username,r=e.thumbnail,o=e.petType,c=e.createdAt,s=e.body,d=e.recommendedCount,l=e.alreadyRecommended,p=e.onClickRecommend,u=e.onClickRemove,b=Object(v.a)(e,["isReply","myQuestion","username","thumbnail","petType","createdAt","body","recommendedCount","alreadyRecommended","onClickRecommend","onClickRemove"]),m=W();return Object(i.jsxs)("div",A(A({className:m.root},b),{},{children:[Object(i.jsxs)("div",{className:m.qnaHeader,children:[t&&Object(i.jsx)(I.gb,{className:m.reply}),Object(i.jsx)("span",{className:m.userThumb,role:"button",onClick:function(){P.e.ga.profileImg({src:r||"\uc5c6\uc74c"})},children:r?Object(i.jsx)(w.a,{src:r,alt:n,className:m.userThumbImg}):Object(i.jsx)(N.a,{className:m.userThumbImg})}),Object(i.jsxs)("div",{className:m.header,children:[Object(i.jsx)(S.a,{lgUp:!0,children:Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{className:m.userName,children:n}),"string"===typeof o&&Object(i.jsx)("span",{className:m.petType,children:"".concat(o)})]})}),Object(i.jsxs)(S.a,{mdDown:!0,children:[Object(i.jsx)("span",{className:m.userName,children:n}),"string"===typeof o&&Object(i.jsx)("span",{className:m.petType,children:"".concat(o)}),Object(i.jsx)(R.a,{className:m.divider})]}),Object(k.a)(c)]})]}),Object(i.jsx)("div",{className:Object(C.a)(m.qnaContainer,a&&m.myQuestion),children:t?Object(i.jsx)("div",{children:s}):Object(i.jsx)("div",{className:m.questionTxt,children:s})}),p&&Object(i.jsx)("div",{className:m.likeBtnWrapper,children:Object(i.jsx)(B.a,{className:m.likeBtn,isRecommended:l,"data-testid":"recommend",onClick:function(e){e.stopPropagation(),p()},children:d})}),u&&Object(i.jsx)(q.a,{className:m.removeBtn,level:"fourth",onClick:function(e){e.stopPropagation(),u()},children:"\uc0ad\uc81c"})]}))};L.defaultProps={isReply:!1,myQuestion:!1,username:"",thumbnail:null,petType:null,createdAt:null,body:"",recommendedCount:0,alreadyRecommended:!1,onClickRecommend:null,onClickRemove:null};var E=L,z=a("UTh9"),U=a("1AYd"),D=a("668i"),Q=a("Ji2X"),_=a("cVXz"),H=a("jjAL"),G=a("WByW"),J=a("ww3E"),K=a("u5Xb"),M=a("rpLH"),X=a("nTxR"),Y=a("hV0N"),Z=a("eaRi"),V=a("z7pX"),F=a("G86A"),$=a("nc4S"),ee=Object(f.a)((function(e){return{root:Object(s.a)({margin:"0 auto",backgroundColor:e.palette.grey[50]},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.xl,padding:"0 30px",backgroundColor:e.palette.common.white}),qnaTop:Object(s.a)({backgroundColor:e.palette.common.white,marginBottom:10,borderBottom:"1px solid ".concat(e.palette.grey[900])},e.breakpoints.up("lg"),{marginBottom:0,borderBottom:"0 none"}),qnaData:{},productList:Object(s.a)({borderTop:"0 none"},e.breakpoints.up("lg"),{width:"100%",margin:0,borderBottom:"1px solid ".concat(e.palette.grey.A100)}),productItem:Object(s.a)({borderTop:"0 none",padding:"0 16px"},e.breakpoints.up("lg"),{margin:0,padding:"10px 0"}),productContent:Object(s.a)({},e.breakpoints.up("lg"),{padding:0}),formArea:Object(s.a)({boxSizing:"border-box",display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",padding:16,"& > form":{boxSizing:"border-box",width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"}},e.breakpoints.up("lg"),{justifyContent:"center",padding:20,"& > form":{justifyContent:"center"}}),textfield:Object(s.a)({letterSpacing:-1,flexGrow:1},e.breakpoints.up("lg"),{flexBasis:676,width:676,flexGrow:0,letterSpacing:0}),btnSubmit:Object(s.a)({width:80,flexBasis:80,flexShrink:0,flexGrow:0,marginLeft:10},e.breakpoints.up("lg"),{width:212,flexBasis:212,marginLeft:20}),sortBar:Object(s.a)({display:"flex",justifyContent:"space-between",alignItems:"center",boxSizing:"border-box",width:"100%",height:41,padding:e.spacing(0,2),fontSize:"1.4rem",borderTop:"1px solid ".concat(e.palette.grey[900]),borderBottom:"1px solid ".concat(e.palette.grey[900]),backgroundColor:e.palette.common.white,position:"relative"},e.breakpoints.up("lg"),{height:40,padding:"0 30px",borderTop:"1px solid ".concat(e.palette.grey.A100),borderBottom:"1px solid ".concat(e.palette.grey[900])}),number:Object(s.a)({color:e.palette.text.primary,"& strong":{fontWeight:e.typography.fontWeightRegular,color:e.palette.text.primary}},e.breakpoints.up("lg"),{color:e.palette.text.secondary}),selectArea:{display:"flex",alignItems:"center"},sortLabel:{fontSize:"1.4rem"},sortSelect:{display:"block",marginLeft:2,fontSize:"1.4rem",borderRadius:0,fontWeight:e.typography.fontWeightMedium,background:"none !important",position:"relative",cursor:"pointer","&:before, &:after":{display:"none"},"& > div:first-child":{boxSizing:"border-box",textAlign:"right",position:"relative",padding:"4px 24px 4px 4px !important",color:e.palette.primary.main,zIndex:1},"& > svg":{width:24,height:24,position:"absolute",right:0,top:"50%",transform:"translateY(-50%)"},"&:hover, &:focus, & > div:focus, &:active":{background:"none","-webkit-tap-highlight-color":"transparent"}},popoverRoot:{position:"absolute !important","& > div:first-child":{position:"relative !important"}},paperRoot:{top:"31px !important",left:"auto !important",right:"0 !important",width:"132px !important",maxWidth:"132px !important",maxHeight:"400px !important",border:"1px solid ".concat(e.palette.grey.A200),borderRadius:"0 !important",boxShadow:"none !important",transformOrigin:"top right !important"},menuList:{padding:0},listItem:{fontSize:"1.4rem",justifyContent:"flex-end",padding:"6px 24px 6px 6px",color:e.palette.text.secondary,"&:hover":{backgroundColor:e.palette.grey[50]}},itemSelected:{color:e.palette.primary.main,background:"none !important","&:hover":{background:"".concat(e.palette.grey[50]," !important")}},articleWrap:Object(s.a)({paddingBottom:10},e.breakpoints.up("lg"),{paddingBottom:10}),articleContents:Object(s.a)({backgroundColor:e.palette.common.white,borderBottom:"1px solid ".concat(e.palette.grey[900]),position:"relative","& > div":{border:"0 none"}},e.breakpoints.up("lg"),{padding:"10px 0",borderBottom:"1px solid ".concat(e.palette.grey.A100),"& > div":{paddingRight:126}}),pagination:Object(s.a)({borderTop:"1px solid ".concat(e.palette.grey[900])},e.breakpoints.up("lg"),{borderTop:"0 none"})}})),te=function(e){var t=e.user,a=e.product,n=ee(),r=Object(l.useRouter)(),o=Object(h.c)().openAlert,s=Object(d.useState)(""),f=s[0],v=s[1],k=Object($.q)(),w=Object(c.a)(k,2),N=w[0],C=w[1],R=Object($.i)(),S=Object(c.a)(R,2),B=S[0],q=S[1],T=Object($.t)(),A=Object(c.a)(T,2),W=A[0],L=A[1],Y=Object($.t)(),te=Object(c.a)(Y,2),ae=te[0],ne=te[1],re=Object($.s)(),oe=Object(c.a)(re,2),ie=oe[0],ce=oe[1],se=Object($.g)(),de=Object(c.a)(se,2),le=de[0],pe=de[1],ue=Object(d.useRef)(),be=r.query,me=be.productId,je=be.qnaId,ge=be.sortBy,he=Object(K.b)().setNavigation;Object(d.useEffect)((function(){he(function(e){var t=e.product,a=e.qnaId,n=Object(F.a)(t).breadCrumbs,r=n[n.length-1].asPath;return{mobileHeader:"\uc9c8\ubb38\ub2f5\ubcc0 \uc0c1\uc138",breadCrumbs:[].concat(Object(V.a)(n),[{label:"\uc9c8\ubb38\ub2f5\ubcc0 \uc0c1\uc138",href:"/product/[productId]/qna/[qnaId]",asPath:"".concat(r,"/").concat(a)}])}}({product:a,qnaId:je}))}),[a,je]),Object(d.useEffect)((function(){W.success&&r.back()}),[W.success]),Object(d.useEffect)((function(){C({vars:{productId:me,qnaId:je},query:{sortBy:ge||p.c}})}),[r.query,B.success,ae.success,ie.success,le.success]),Object(d.useEffect)((function(){if(B.success){v("");var e={sortBy:p.b};Object(Z.a)({pathname:r.pathname,query:e},b.a.makeUrlWithQuery("/product/".concat(me,"/qna/").concat(je),e)),ue.current&&setTimeout((function(){window.scrollTo(0,ue.current.offsetTop-Object(X.a)())}),500)}}),[B.success]);var fe=Object(d.useMemo)((function(){var e=function(e){return e.discounted?e.discountedPrice:e.salePrice||e.consumerPrice};switch(a.type){case u.c:case u.b:return e(a.singleOption);case u.a:return e(a.bundleOptions[0]);case u.d:return e(a.multiOptions[0])}return null}),[a]),Oe=Object(d.useState)(!1),xe=Oe[0],ye=Oe[1],ve=Object(d.useRef)(),ke=Object(d.useRef)(xe);Object(d.useEffect)((function(){!0===ke.current&&!1===xe&&ve.current.focus(),ke.current=xe}),[xe]);var we=function(e){return e?e.thumbnail2:null};return Object(i.jsx)("div",{className:n.root,children:a&&N.data&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:n.qnaTop,children:[Object(i.jsx)(O.a,{className:n.productList,children:Object(i.jsx)(x.a,{src:a.images[0].pc.detail,mSrc:a.images[0].mobile.detail,className:n.productItem,href:"/product/".concat(a.id),children:Object(i.jsxs)(y.a,{className:n.productContent,children:[Object(i.jsx)(z.h,{children:a.name}),Object(i.jsx)(z.g,{children:Object(i.jsxs)(z.d,{children:[Object(j.a)(fe),"\uc6d0"]})}),Object(i.jsxs)(z.j,{children:[Object(i.jsx)(z.k,{isReadOnly:!0,children:Object(m.a)(a.averageProductReviewRating,1)}),Object(i.jsxs)("span",{children:["(",Object(j.a)(a.totalProductReviewCount),")"]})]})]})})}),Object(i.jsx)("div",{className:n.qnaData,children:Object(i.jsx)("div",{children:Object(i.jsx)(E,{username:N.data.userName,myQuestion:t&&t.id===N.data.userId,thumbnail:we(N.data.userPetImageUrl),petType:N.data.petType,createdAt:N.data.createdAt,body:N.data.body,onClickRemove:t&&t.id===N.data.userId?function(){L({vars:{productId:me,qnaId:je}})}:null})})}),Object(i.jsx)("div",{className:n.formArea,children:Object(i.jsxs)("form",{"data-testid":"form",onSubmit:function(e){e.preventDefault(),t?t.id===N.data.userId?o("\uc790\uc2e0\uc758 \uc9c8\ubb38\uc5d0\ub294 \ub2f5\ubcc0\uc774 \ubd88\uac00\ub2a5\ud569\ub2c8\ub2e4."):q({vars:{productId:me,qnaId:je},data:{body:f}}):Object(g.a)()},children:[Object(i.jsx)(G.a,{className:n.textfield,name:"answerInput",placeholder:"\ub2f5\uc744 \uc54c\uace0 \uacc4\uc2e0\uac00\uc694?",value:f,onChange:function(e){return v(e.target.value)}}),Object(i.jsx)(J.b,{className:n.btnSubmit,nativeType:"submit",children:"\ub4f1\ub85d"})]})})]}),Object(i.jsxs)(Q.a,{maxWidth:"xl",disableGutters:!0,className:n.sortBar,ref:ue,children:[Object(i.jsxs)("span",{className:n.number,children:[Object(i.jsx)("strong",{children:N.data.answerCount}),"\uac1c\uc758 \ub2f5\ubcc0"]}),Object(i.jsxs)("div",{className:n.selectArea,children:[Object(i.jsx)(U.a,{id:"qnasort",className:n.sortLabel,disableAnimation:!0,children:"\uc815\ub82c"}),Object(i.jsx)(D.a,{onClickAway:function(e){ve.current&&ve.current.contains(e.target)||ye(!1)},children:Object(i.jsxs)(_.a,{ref:ve,className:n.sortSelect,labelId:"qnasort",value:void 0===ge?p.a:ge,open:xe,onChange:function(e){var t={sortBy:e.target.value};Object(Z.a)({pathname:r.pathname,query:t},b.a.makeUrlWithQuery("/product/".concat(me,"/qna/").concat(je),t))},onClick:function(){ye((function(e){return!e}))},variant:"filled",IconComponent:function(){return Object(i.jsx)(I.h,{})},MenuProps:{keepMounted:!0,disablePortal:!0,disableScrollLock:!0,PopoverClasses:{root:n.popoverRoot},classes:{paper:n.paperRoot,list:n.menuList}},children:[Object(i.jsx)(H.a,{value:p.a,dense:!0,disableGutters:!0,classes:{selected:n.itemSelected},ListItemClasses:{root:n.listItem},children:"\uc88b\uc544\uc694\uc21c"}),Object(i.jsx)(H.a,{value:p.b,dense:!0,disableGutters:!0,classes:{selected:n.itemSelected},ListItemClasses:{root:n.listItem},children:"\ucd5c\uc2e0\uc21c"})]})})]})]}),Object(i.jsx)("div",{className:n.articleWrap,children:N.data.answers.length>0?N.data.answers.map((function(e){return Object(i.jsx)("div",{className:n.articleContents,children:Object(i.jsx)(E,{isReply:!0,answer:N.answer&&N.answer.body,username:e.userName,thumbnail:we(e.userPetImageUrl),createdAt:e.createdAt,body:e.body,recommendedCount:e.likeCount,alreadyRecommended:!e.canLike,onClickRecommend:function(){if(t)if(e.userId===t.id)o("\uc790\uc2e0\uc758 \ub2f5\ubcc0\uc5d4 \uc88b\uc544\uc694\ub97c \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");else{var n={productId:me,qnaId:e.id};P.e.ga.like({isOn:e.canLike,productName:a.name}),e.canLike?ce({vars:n}):pe({vars:n})}else Object(g.a)()},onClickRemove:t&&t.id===e.userId?function(){return ne({vars:{productId:me,qnaId:e.id}})}:null})},e.id)})):Object(i.jsx)(M.a,{setIcon:Object(i.jsx)(I.db,{}),children:"\ub4f1\ub85d\ub41c \ub2f5\ubcc0\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})})]})})};te.defaultProps={user:null},te.getInitialProps=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.query,e.next=3,Object($.c)(a.productId,Object(Y.a)(t));case 3:return n=e.sent,e.abrupt("return",{product:n.data});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var ae=te,ne=a("pk+y"),re=ae;re.layoutConfig={SetTitle:{TitleTxt:Object(ne.a)("\uc9c8\ubb38\ub2f5\ubcc0 \uc0c1\uc138")},BtnShare:!1};t.default=re},Uu5j:function(e,t,a){"use strict";var n=a("wd/R"),r=a.n(n),o=a("hjju");t.a=function(e){return r()(Object(o.a)(e)).format("YYYY.MM.DD.")}},g2WN:function(e,t,a){"use strict";t.a=function(){window.scrollTo(0,0)}},hjju:function(e,t,a){"use strict";var n=a("wd/R"),r=a.n(n);t.a=function(e){if("string"===typeof e&&e.length>0){if("Z"===e[e.length-1])return e;var t=r()("".concat(e,"Z"));return t.subtract(9,"hours"),t.toISOString()}return e||(new Date).toISOString()}}},[["Ho0e",2,1,9,0,3,4,5,6,7,8,10,12,11,13,14,16,17,18,19,22,46]]]);